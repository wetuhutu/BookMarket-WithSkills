# 项目开发周志 - 第一周

## 时间范围
2026-02-01 至 2026-02-07

## 本周工作总结

这周主要完成了项目的基础搭建和核心功能开发。

第一天做了项目初始化和架构设计。确定了技术栈，前端用Vue 3，后端用Spring Boot + MyBatis，数据库用MySQL。搭建了项目的基础结构，前端配置了Vue Router、Pinia、Tailwind CSS，后端配置了MyBatis和数据库连接。设计了数据库表结构，包括用户表、书籍表、分类表、订单表、收藏表、评价表。设计了API接口，包括用户管理、书籍管理、订单管理、收藏管理这几类。

遇到的问题是Spring Boot版本和MyBatis版本不兼容，启动的时候报错。查了一下，发现是MyBatis的版本太新了，不兼容Spring Boot 3.5.9。最后把MyBatis降级到3.0.3就解决了。

第二天做了核心功能开发。用户认证模块实现了注册、登录、JWT token生成这些功能。JWT拦截器拦截需要认证的请求，从请求头获取token解析出用户ID存到ThreadLocal里。书籍管理模块实现了获取分类列表、获取热门书籍、获取书籍列表、获取书籍详情、获取相似书籍推荐这些接口。订单管理模块实现了创建订单、确认收货、取消订单这些接口。收藏管理模块实现了获取收藏列表、添加收藏、取消收藏这些接口。

遇到的问题是JWT token生成的时候报错，提示密钥长度不够。查了一下，HS256算法要求密钥至少256位。最后改用更长的密钥字符串就解决了。还有一个问题是获取热门书籍的时候，同一个书名有多本书，需要去重。用窗口函数FIRST_VALUE按书名和作者分组，取ID最大的那本书，这样就解决了重复的问题。

## 技术亮点

这周用了几个比较新的技术。前端用Vue 3的Composition API，代码更简洁，逻辑更清晰。后端用Spring Boot 3.5.9，性能更好，启动更快。JWT做无状态认证，不用在服务器存session，扩展性更好。MyBatis用动态SQL，灵活实现复杂的查询条件。窗口函数统计热门书籍，比传统方法效率高很多。

## 本周日志

- [日志1 - 项目初始化和架构设计](./daily/day1.md)
- [日志2 - 核心功能开发](./daily/day2.md)

## 下周计划

下周打算开始做前端页面，先做登录注册页面和首页。然后做书籍列表页、书籍详情页、个人中心这些页面。前后端联调，解决跨域、token传输、日期格式这些问题。最后做功能测试和性能优化。
